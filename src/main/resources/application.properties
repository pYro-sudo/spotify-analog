# Deploy Config
verticle.instances=4
verticle.worker=false

# Router Config
archive.delay=1800000

# ====================== Kafka Configuration ======================
# General Kafka Settings
kafka.bootstrap.servers=kafka:9092

# Main Kafka Input Channel
mp.messaging.incoming.kafka-in.connector=smallrye-kafka
mp.messaging.incoming.kafka-in.topic=your-input-topic
mp.messaging.incoming.kafka-in.group.id=elastic-group
mp.messaging.incoming.kafka-in.auto.offset.reset=earliest
mp.messaging.incoming.kafka-in.value.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.kafka-in.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.kafka-in.enable.auto.commit=true
mp.messaging.incoming.kafka-in.max-poll-records=500

# Elasticsearch Router Kafka Channels
mp.messaging.incoming.elasticsearch-in-1.connector=smallrye-kafka
mp.messaging.incoming.elasticsearch-in-1.topic=elasticsearch-topic-1
mp.messaging.incoming.elasticsearch-in-1.group.id=elasticsearch-group-1
mp.messaging.incoming.elasticsearch-in-1.value.deserializer=io.vertx.kafka.client.serialization.JsonObjectDeserializer
mp.messaging.incoming.elasticsearch-in-1.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.elasticsearch-in-1.enable.auto.commit=false
mp.messaging.incoming.elasticsearch-in-1.batch=true
mp.messaging.incoming.elasticsearch-in-1.partitions=3
mp.messaging.incoming.elasticsearch-in-1.max-poll-records=500

mp.messaging.incoming.elasticsearch-in-2.connector=smallrye-kafka
mp.messaging.incoming.elasticsearch-in-2.topic=elasticsearch-topic-2
mp.messaging.incoming.elasticsearch-in-2.group.id=elasticsearch-group-2
mp.messaging.incoming.elasticsearch-in-2.value.deserializer=io.vertx.kafka.client.serialization.JsonObjectDeserializer
mp.messaging.incoming.elasticsearch-in-2.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer
mp.messaging.incoming.elasticsearch-in-2.enable.auto.commit=false
mp.messaging.incoming.elasticsearch-in-2.batch=true
mp.messaging.incoming.elasticsearch-in-2.partitions=3
mp.messaging.incoming.elasticsearch-in-2.max-poll-records=500

# ====================== RabbitMQ Configuration ======================
# General RabbitMQ Settings
rabbitmq-host=rabbitmq
rabbitmq-port=5672
rabbitmq-username=guest
rabbitmq-password=guest
rabbitmq-virtual-host=/

# Main RabbitMQ Output Channel
mp.messaging.outgoing.rabbitmq-out.connector=smallrye-amqp
mp.messaging.outgoing.rabbitmq-out.address=elastic-queue
mp.messaging.outgoing.rabbitmq-out.durable=true

# Elasticsearch Router RabbitMQ Channels
mp.messaging.outgoing.elasticsearch-out-1.connector=smallrye-rabbitmq
mp.messaging.outgoing.elasticsearch-out-1.exchange.name=elasticsearch-exchange-1
mp.messaging.outgoing.elasticsearch-out-1.exchange.type=direct
mp.messaging.outgoing.elasticsearch-out-1.queue.name=elasticsearch-queue-1
mp.messaging.outgoing.elasticsearch-out-1.routing-key=elasticsearch-routing-key-1
mp.messaging.outgoing.elasticsearch-out-1.serializer=io.vertx.rabbitmq.serialization.JsonObjectSerializer
mp.messaging.outgoing.elasticsearch-out-1.buffer-size=500

mp.messaging.outgoing.elasticsearch-out-2.connector=smallrye-rabbitmq
mp.messaging.outgoing.elasticsearch-out-2.exchange.name=elasticsearch-exchange-2
mp.messaging.outgoing.elasticsearch-out-2.exchange.type=direct
mp.messaging.outgoing.elasticsearch-out-2.queue.name=elasticsearch-queue-2
mp.messaging.outgoing.elasticsearch-out-2.routing-key=elasticsearch-routing-key-2
mp.messaging.outgoing.elasticsearch-out-2.serializer=io.vertx.rabbitmq.serialization.JsonObjectSerializer
mp.messaging.outgoing.elasticsearch-out-2.buffer-size=500

# ====================== Database Configuration ======================
quarkus.datasource.db-kind=postgresql
quarkus.datasource.username=postgres
quarkus.datasource.password=postgres
quarkus.datasource.reactive.url=postgresql://localhost:5432/message_table
quarkus.hibernate-orm.database.generation=none
quarkus.hibernate-orm.schema=message_table

# ====================== Vault Configuration ======================
quarkus.vault.url=http://localhost:8200
quarkus.vault.authentication.userpass.username=yarik
quarkus.vault.authentication.userpass.password=yarrr_1k
quarkus.vault.secret-config-kv-path=myapps/vault-quickstart/config
jwt.key.refresh.interval=60m

# ====================== Security Configuration ======================
security.jwt.issuer=www.example.com
security.jwt.required-role=none
mp.jwt.verify.publickey="MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAt0Slo5cHQL4OS2Gu0lE4\
xAQhfhYGv6NV9snrLGd6aTlrmF2HT081FGpKr+2GEmQJkQvAVgyeAAMNJU0+eE7O\
6sG/zycYAAHOKHjP3GR04SJ1ty3VA8O6r7sPIT7FlRtJBUQMngKWS1xMB5LXCkU+\
VnqvkIrqD3p1R+ltYS/UPWyeoD7F5Uur6HE28pEtU2CeBQ52XY1rEPFcwKFEBQVP\
wZf1ytokIK/OIQbkUkbVADEqWQXmg2+4ostdYt6czhNV9HlEuoTCT5he2oaZ/Wci\
yhbWv6SMJfCj5/VsSnaPzMlf+hBmxDe8n0H26REn5+a1tL0w3TCtQz30MTkaUnxm\
6wIDAQAB"
security.auth.enabled=true
security.auth.require-token=true
auth.token.field=authToken

# ====================== Metrics Configuration ======================
quarkus.micrometer.enabled=true
quarkus.micrometer.export.prometheus.enabled=true
quarkus.micrometer.export.prometheus.path=/metrics
quarkus.micrometer.binder.vertx.enabled=true
quarkus.micrometer.binder.kafka.enabled=true
quarkus.micrometer.binder.system.enabled=true
quarkus.micrometer.binder.jvm.enabled=true